<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 backdrop-blur-sm p-4">
  <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md overflow-hidden transform transition-all">
    
    <div class="bg-indigo-600 p-6 text-white">
      <h2 class="text-2xl font-bold">Reservar Cita</h2>
      <p class="text-indigo-100 mt-1">Servicio: <span class="font-bold">{{ servicio?.title }}</span></p>
    </div>

    <form [formGroup]="reservaForm" (ngSubmit)="onSubmit()" class="p-6 space-y-4">
      
      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Tu Nombre</label>
        <input formControlName="nombreCliente" type="text" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 text-gray-900 focus:outline-none" placeholder="Juan Pérez">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Email</label>
        <input formControlName="email" type="email" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 text-gray-900 focus:outline-none" placeholder="juan@ejemplo.com">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Teléfono</label>
        <input formControlName="telefono" type="tel" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 text-gray-900 focus:outline-none" placeholder="600 000 000">
      </div>

      <div>
        <label class="block text-sm font-medium text-gray-700 mb-1">Fecha Preferida</label>
        <input formControlName="fecha" type="date" class="w-full px-4 py-2 border border-gray-300 text-gray-900 rounded-lg focus:ring-2 text-gray-900focus:ring-indigo-500 focus:outline-none">
      </div>

      <div class="flex justify-end gap-3 mt-6">
        <button type="button" (click)="cerrar()" class="px-4 py-2 text-gray-700 font-medium hover:bg-gray-100 rounded-lg transition">
          Cancelar
        </button>
        <button type="submit" class="px-6 py-2 bg-indigo-600 text-white font-bold rounded-lg hover:bg-indigo-700 transition disabled:opacity-50 disabled:cursor-not-allowed">
          Confirmar Reserva
        </button>
      </div>

<div class="mb-4">
  <label class="block text-sm font-medium text-gray-700 mb-1">Servicio deseado</label>
  
  @if (servicio) {
    <div class="w-full px-4 py-2 bg-gray-100 border border-gray-300 rounded-lg text-gray-600 font-bold">
      {{ servicio.title }}
    </div>
  } 
  @else {
    <select formControlName="servicioId" class="w-full px-4 py-2 border border-gray-300 rounded-lg text-gray-900 focus:ring-2 focus:ring-indigo-500">
      <option value="" disabled selected>Selecciona un servicio...</option>
      @for (s of listaServicios(); track s._id) {
        <option [value]="s._id">{{ s.title }} - {{ s.price }}€</option>
      }
    </select>
  }
</div>


    </form>
  </div>
</div>